<!DOCTYPE html>
<html ng-app="MyApp">
    <head>
        <title>Start Page</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.19/angular.min.js"></script>
        <!--<script src="scripts/angular-locale_da-dk.js" type="text/javascript"></script>-->

        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.19/angular-route.js"></script>
    </head>
    <body ng-controller="Controller as ctrl">
        <h1>Hello World!</h1>
        <table>
            <thead>
                <tr>
                    <td>
                        First Name
                    </td>
                    <td>
                        Last Name
                    </td>
                    <td>
                        City
                    </td>
                    <td>
                        Street
                    </td>
                </tr>
            </thead>
            <tbody ng-repeat="person in ctrl.persons">
                <tr>
                    <td>
                        {{person.lName}}
                    </td>
                    <td>
                        {{person.fName}}
                    </td>
                    <td>
                        {{person.city}}
                    </td>
                    <td>
                        {{person.street}}
                    </td>
                </tr>
            </tbody>
        </table>
        <form ng-submit="ctrl.getPersons()">
            <button  class="btn btn-success">Get persons</button>
        </form>
        <script>
                    var app = angular.module('MyApp', ['ngRoute']);
                    var users = "hey";
                    app.controller("Controller", function ($http, $routeParams) {
                        var self = this;
                        self.hey = "hey";
                        self.persons = [];

                        self.getPersons = function () {
                            console.log("heyeheyehey");
                            $http.get('http://localhost:8084/EksamenRESTJSON11/api/addresses/10/lName,fName,street')
                                    .success(function (data, status, headers, config) {
                                        self.persons = data;
                                        console.log(data + "heyeheyehey");
                                    })
                                    .error(function (data, status, headers, config) {
                                        console.log("doesn't worrrrkkkkkingggsssss");
                                    });
                        };
                    });

        </script>

    </body>
</html>
